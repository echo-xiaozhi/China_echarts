<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>第一屏</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="echarts/main.min.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/mock.js"></script>
</head>
<body style="width: 1920px;height: 1080px; overflow: hidden; margin: 0; background: #000000;">
<div class="mask"></div>
<div class="img_bak">
    <img src="images/map.png" alt="">
</div>
<video class="video_player1" style="width: 5760px; height: 3240px;" autoplay loop muted>
    <source src="video/video3.mp4" type="video/mp4">
</video>
<div id="container" style="height: 100%"></div>
<div class="font-left">四大仓储中心<br/>物流动态路径图</div>
<div class="roll">
    <div class="roll-title">
        <ul>
            <li>地区</li>
            <li>姓名</li>
            <li>订单号</li>
            <li>物流单号</li>
        </ul>
        <div class="clear"></div>
    </div>
    <div class="roll-content">
        <div id="news-container">
            <ul class="roll_list">
            </ul>
        </div>
    </div>
</div>
<div class="video_img">
    <div class="video_little_plugin" id="plugConter"></div>
    <!--<img src="images/video.png" alt="">-->
</div>


<div class="jinan">
    <svg width="60px" height="60px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <!-- Generator: Sketch 49 (51002) - http://www.bohemiancoding.com/sketch -->
        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='0s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='0s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>


        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='1s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='1s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>


        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='2s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='2s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>
    </svg>
</div>
<div class="guangzhou">
    <svg width="60px" height="60px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <!-- Generator: Sketch 49 (51002) - http://www.bohemiancoding.com/sketch -->
        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='0s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='0s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>


        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='1s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='1s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>


        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='2s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='2s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>


    </svg>
</div>
<div class="nanjing">
    <svg width="60px" height="60px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <!-- Generator: Sketch 49 (51002) - http://www.bohemiancoding.com/sketch -->
        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='0s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='0s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>


        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='1s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='1s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>


        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='2s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='2s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>


    </svg>
</div>
<div class="chongqing">
    <svg width="60px" height="60px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <!-- Generator: Sketch 49 (51002) - http://www.bohemiancoding.com/sketch -->
        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='0s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='0s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>


        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='1s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='1s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>


        <circle id="Oval1" fill="rgb(249,124,46)" cx="100" cy="100" r="10">
            <animate attributeName='opacity' from='1' to='0' dur='5s' begin='2s' repeatCount='indefinite'/>
            <animate attributeName="r" from="10" to="100" dur="5s" begin='2s' values="0; 20; 100" repeatCount="indefinite"/>
        </circle>


    </svg>
</div>
<script type="text/javascript" src="echarts/echarts.min.js"></script>
<script type="text/javascript" src="echarts/china.js"></script>

<script type="text/javascript">
    // 定义所有用到的数据
    var JNData = [];
    var dom = document.getElementById("container");
    var myChart = echarts.init(dom);
    var app = {};
    option = null;
    var map = L.map('container');
    var overlay = new L.echartsLayer3(map, echarts);
    var chartsContainer = overlay.getEchartsContainer();
    var geoCoordMap = {
        '合肥市': [117.25,31.83],
        '芜湖市': [118.38,31.33],
        '蚌埠市': [117.38,32.92],
        '淮南市': [117,32.63],
        '马鞍山市': [118.5,31.7],
        '淮北市': [116.8,33.95],
        '铜陵市': [117.82,30.93],
        '安庆市': [117.05,30.53],
        '黄山市': [118.13,30.3],
        '滁州市': [118.32,32.3],
        '阜阳市': [115.82,32.9],
        '宿州市': [116.98,33.63],
        '巢湖市': [117.87,31.6],
        '六安市': [116.5,31.77],
        '亳州市': [115.78,33.85],
        '池州市': [117.48,30.67],
        '宣城市': [118.75,30.95],
        '北京市': [116.4,39.9],
        '福州市': [119.3,26.08],
        '厦门市': [118.08,24.48],
        '莆田市': [119,25.43],
        '三明市': [117.62,26.27],
        '泉州市': [118.67,24.88],
        '漳州市': [117.65,24.52],
        '南平市': [118.17,26.65],
        '龙岩市': [117.03,25.1],
        '宁德市': [119.52,26.67],
        '兰州市': [103.82,36.07],
        '嘉峪关市': [98.27,39.8],
        '金昌市': [102.18,38.5],
        '白银市': [104.18,36.55],
        '天水市': [105.72,34.58],
        '武威市': [102.63,37.93],
        '张掖市': [100.45,38.93],
        '平凉市': [106.67,35.55],
        '酒泉市': [98.52,39.75],
        '庆阳市': [107.63,35.73],
        '定西市': [104.62,35.58],
        '陇南市': [104.92,33.4],
        '临夏回族自治州': [103.22,35.6],
        '甘南藏族自治州': [102.92,34.98],
        '港澳台': [121.5,25.03],
        '广州市': [113.27,23.13],
        '深圳市': [114.05,22.55],
        '韶关市': [113.6,24.82],
        '珠海市': [113.57,22.27],
        '汕头市': [116.68,23.35],
        '佛山市': [113.12,23.02],
        '江门市': [113.08,22.58],
        '湛江市': [110.35,21.27],
        '茂名市': [110.92,21.67],
        '肇庆市': [112.47,23.05],
        '惠州市': [114.42,23.12],
        '梅州市': [116.12,24.28],
        '汕尾市': [115.37,22.78],
        '河源市': [114.7,23.73],
        '阳江市': [111.98,21.87],
        '清远市': [113.03,23.7],
        '东莞市': [113.75,23.05],
        '中山市': [121.63,38.92],
        '潮州市': [116.62,23.67],
        '揭阳市': [116.37,23.55],
        '云浮市': [112.03,22.92],
        '南宁市': [108.37,22.82],
        '柳州市': [109.42,24.33],
        '桂林市': [110.28,25.28],
        '梧州市': [111.27,23.48],
        '北海市': [109.12,21.48],
        '防城港市': [108.35,21.7],
        '钦州市': [108.62,21.95],
        '贵港市': [109.6,23.1],
        '玉林市': [110.17,22.63],
        '百色市': [106.62,23.9],
        '贺州市': [111.55,24.42],
        '河池市': [108.07,24.7],
        '崇左市': [107.37,22.4],
        '来宾市': [109.23,23.73],
        '贵阳市': [106.63,26.65],
        '六盘水市': [104.83,26.6],
        '遵义市': [106.92,27.73],
        '安顺市': [105.95,26.25],
        '铜仁地区': [109.18,27.72],
        '毕节地区': [105.8384431,27.0522801],
        '黔东南苗族侗族自治州': [107.97,26.58],
        '黔南布依族苗族自治州': [107.52,26.27],
        '兴义市': [104.9,25.08],
        '随州市': [113.2564476,31.8902877],
        '顺安市': [105.6697,25.988779],
        '海口市': [110.32,20.03],
        // '三亚市': [109.5,18.25],
        '五指山市': [109.57,19.52],
        // '三沙市': [112.3364485,16.8336496],
        '琼海市': [110.5866,19.1597867],
        '石家庄市': [114.52,38.05],
        '唐山市': [118.2,39.63],
        '秦皇岛市': [119.6,39.93],
        '邯郸市': [114.48,36.62],
        '邢台市': [114.48,37.07],
        '保定市': [115.47,38.87],
        '张家口市': [114.88,40.82],
        '承德市': [117.93,40.97],
        '沧州市': [116.83,38.3],
        '廊坊市': [116.7,39.52],
        '衡水市': [115.68,37.73],
        '郑州市': [113.62,34.75],
        '开封市': [114.3,34.8],
        '洛阳市': [112.45,34.62],
        '平顶山市': [113.18,33.77],
        '安阳市': [114.38,36.1],
        '鹤壁市': [114.28,35.75],
        '新乡市': [113.9,35.3],
        '焦作市': [113.25,35.22],
        '濮阳市': [115.03,35.77],
        '许昌市': [113.85,34.03],
        '漯河市': [114.02,33.58],
        '三门峡市': [111.2,34.78],
        '南阳市': [112.52,33],
        '商丘市': [115.65,34.45],
        '信阳市': [114.07,32.13],
        '周口市': [114.65,33.62],
        '驻马店市': [114.02,32.98],
        '大庆市': [124.82,46.03],
        '哈尔滨市': [126.53,45.8],
        '齐齐哈尔市': [123.95,47.33],
        '鸡西市': [130.97,45.3],
        '鹤岗市': [130.27,47.33],
        '双鸭山市': [131.15,46.63],
        '伊春市': [128.9,47.73],
        '佳木斯市': [130.37,46.82],
        '七台河市': [130.95,45.78],
        '牡丹江市': [129.6,44.58],
        '黑河市': [127.48,50.25],
        '绥化市': [126.98,46.63],
        '大兴安岭地区': [124.12,50.42],
        '武汉市': [114.3,30.6],
        '黄石市': [115.03,30.2],
        '十堰市': [110.78,32.65],
        '宜昌市': [111.28,30.7],
        '襄樊市': [112.2,32.08],
        '鄂州市': [114.88,30.4],
        '荆门市': [112.2,31.03],
        '孝感市': [113.92,30.93],
        '荆州市': [112.18,30.35],
        '黄冈市': [114.87,30.45],
        '咸宁市': [114.32,29.85],
        '恩施土家族苗族自治州': [109.47,30.3],
        '仙桃市': [113.45,30.37],
        '株洲市': [113.13,27.83],
        '湘潭市': [112.93,27.83],
        '衡阳市': [112.57,26.9],
        '邵阳市': [111.47,27.25],
        '岳阳市': [113.12,29.37],
        '常德市': [111.68,29.05],
        '张家界市': [110.47,29.13],
        '益阳市': [112.32,28.6],
        '郴州市': [113.02,25.78],
        '永州市': [111.62,26.43],
        '怀化市': [110,27.57],
        '娄底市': [112,27.73],
        '湘西土家族苗族自治州': [109.73,28.32],
        '长沙市': [112.93,28.23],
        '辽源市': [125.15,42.92],
        '长春市': [125.32,43.9],
        '吉林市': [126.55,43.83],
        '四平市': [124.35,43.17],
        '通化市': [125.93,41.73],
        '白山市': [126.42,41.93],
        '松原市': [124.82,45.13],
        '白城市': [122.83,45.62],
        '延边朝鲜族自治州': [129.5,42.88],
        '南京市': [118.78,32.07],
        '苏州市': [120.58,31.3],
        '扬州市': [119.4,32.4],
        '无锡市': [120.3,31.57],
        '徐州市': [117.18,34.27],
        '常州市': [119.95,31.78],
        '南通市': [120.88,31.98],
        '连云港市': [119.22,34.6],
        '淮安市': [119.02,33.62],
        '盐城市': [120.15,33.35],
        '镇江市': [119.45,32.2],
        '泰州市': [119.92,32.45],
        '宿迁市': [118.28,33.97],
        '南昌市': [115.85,28.68],
        '景德镇市': [117.17,29.27],
        '萍乡市': [113.85,27.63],
        '九江市': [116,29.7],
        '新余市': [114.92,27.82],
        '鹰潭市': [117.07,28.27],
        '赣州市': [114.93,25.83],
        '吉安市': [114.98,27.12],
        '宜春市': [114.38,27.8],
        '抚州市': [116.35,28],
        '上饶市': [117.97,28.45],
        '沈阳市': [123.43,41.8],
        '大连市': [121.62,38.92],
        '鞍山市': [122.98,41.1],
        '抚顺市': [123.98,41.88],
        '本溪市': [123.77,41.3],
        '丹东市': [124.38,40.13],
        '锦州市': [121.13,41.1],
        '营口市': [122.23,40.67],
        '阜新市': [121.67,42.02],
        '辽阳市': [123.17,41.27],
        '盘锦市': [122.07,41.12],
        '铁岭市': [123.83,42.28],
        '葫芦岛市': [120.83,40.72],
        '朝阳市': [120.77,41.8],
        '呼和浩特市': [111.73,40.83],
        '包头市': [109.83,40.65],
        '乌海市': [106.82,39.67],
        '赤峰市': [118.92,42.27],
        '通辽市': [122.27,43.62],
        '鄂尔多斯市': [109.8,39.62],
        '呼伦贝尔市': [119.77,49.22],
        '兴安盟': [122.05,46.08],
        '锡林郭勒盟': [116.07,43.95],
        '乌兰察布市': [113.12,40.98],
        '巴彦淖尔市': [107.42,40.75],
        '阿拉善盟': [105.67,38.83],
        '银川市': [106.28,38.47],
        '石嘴山市': [106.38,39.02],
        '吴忠市': [106.2,37.98],
        '固原市': [106.28,36],
        '中卫市': [105.18,37.52],
        '西宁市': [101.78,36.62],
        '海东地区': [102.12,36.5],
        '海北藏族自治州': [100.9,36.97],
        '黄南藏族自治州': [102.02,35.52],
        '果洛藏族自治州': [100.23,34.48],
        '玉树藏族自治州': [97.02,33],
        '海西蒙古族藏族自治州': [97.37,37.37],
        '海南藏族自治州': [100.62,36.28],
        '青岛市': [120.38,36.07],
        '济南市': [116.98,36.67],
        '淄博市': [118.05,36.82],
        '枣庄市': [117.32,34.82],
        '东营市': [118.5,37.47],
        '烟台市': [121.43,37.45],
        '潍坊市': [119.15,36.7],
        '济宁市': [116.58,35.42],
        '泰安市': [117.08,36.2],
        '威海市': [122.12,37.52],
        '日照市': [119.52,35.42],
        '莱芜市': [117.67,36.22],
        '临沂市': [118.35,35.05],
        '德州市': [116.3,37.45],
        '聊城市': [115.98,36.45],
        '滨州市': [117.97,37.38],
        '菏泽市': [115.43,35.25],
        '太原市': [112.55,37.87],
        '阳泉市': [113.57,37.85],
        '长治市': [113.12,36.2],
        '晋城市': [112.83,35.5],
        '朔州市': [112.43,39.33],
        '晋中市': [112.75,37.68],
        '运城市': [110.98,35.02],
        '忻州市': [112.73,38.42],
        '临汾市': [111.52,36.08],
        '吕梁市': [111.13,37.52],
        '大同市': [113.75,40.37],
        '铜川市': [108.93,34.9],
        '宝鸡市': [107.13,34.37],
        '咸阳市': [108.7,34.33],
        '渭南市': [109.5,34.5],
        '延安市': [109.48,36.6],
        '汉中市': [107.0349884,33.0764139],
        '榆林市': [109.73,38.28],
        '安康市': [109.02,32.68],
        '商洛市': [109.93,33.87],
        '西安市': [109.32,34.15],
        '上海市': [121.47,31.23],
        '成都市': [104.07,30.67],
        '自贡市': [104.78,29.35],
        '攀枝花市': [101.72,26.58],
        '泸州市': [105.43,28.87],
        '德阳市': [104.38,31.13],
        '绵阳市': [104.73,31.47],
        '广元市': [105.83,32.43],
        '遂宁市': [105.57,30.52],
        '内江市': [105.05,29.58],
        '乐山市': [103.77,29.57],
        '南充市': [106.08,30.78],
        '眉山市': [103.83,30.05],
        '宜宾市': [104.62,28.77],
        '广安市': [106.63,30.47],
        '达州市': [107.5,31.22],
        '雅安市': [103,29.98],
        '巴中市': [106.77,31.85],
        '资阳市': [112.32,28.6],
        '阿坝藏族羌族自治州': [102.22,31.9],
        '甘孜藏族自治州': [101.97,30.05],
        '凉山彝族自治州': [102.27,27.9],
        '天津市': [117.2,39.12],
        '拉萨市': [91.13,29.65],
        '昌都地区': [97.18,31.13],
        '山南地区': [91.77,29.23],
        '日喀则地区': [88.88,29.27],
        '那曲地区': [92.07,31.48],
        '阿里地区': [80.1,32.5],
        '林芝地区': [94.37,29.68],
        '乌鲁木齐市': [87.62,43.82],
        '克拉玛依市': [84.87,45.6],
        '吐鲁番地区': [89.17,42.95],
        '哈密地区': [93.52,42.83],
        '昌吉回族自治州': [87.3,44.02],
        '博尔塔拉蒙古自治州': [82.07,44.9],
        '巴音郭楞蒙古自治州': [86.15,41.77],
        '阿克苏地区': [80.27,41.17],
        '克孜勒苏柯尔克孜自治州': [87.62,43.82],
        '喀什地区': [75.98,39.47],
        '和田地区': [79.92,37.12],
        '伊犁哈萨克自治州': [81.32,43.92],
        '塔城地区': [82.98,46.75],
        '阿勒泰地区': [88.13,47.85],
        '石河子市': [86.03,44.3],
        '阿图什市': [76.17,39.72],
        '铁门关市': [85.448431,41.8048312],
        '昆明市': [102.72,25.05],
        '曲靖市': [103.8,25.5],
        '玉溪市': [102.55,24.35],
        '保山市': [99.17,25.12],
        '昭通市': [103.72,27.33],
        '楚雄彝族自治州': [101.55,25.03],
        '红河哈尼族彝族自治州': [103.4,23.37],
        '文山壮族苗族自治州': [104.25,23.37],
        '普洱市': [102.72,25.05],
        '西双版纳傣族自治州': [100.8,22.02],
        '大理白族自治州': [100.23,25.6],
        '德宏傣族景颇族自治州': [98.58,24.43],
        '丽江市': [100.23,26.88],
        '怒江傈僳族自治州': [98.85,25.85],
        '迪庆藏族自治州': [99.7,27.83],
        '临沧市': [100.08,23.88],
        '墨江哈尼族自治县': [101.68,23.43],
        '杭州市': [120.15,30.28],
        '宁波市': [121.55,29.88],
        '温州市': [120.7,28],
        '嘉兴市': [120.75,30.75],
        '湖州市': [120.08,30.9],
        '绍兴市': [120.57,30],
        '金华市': [119.65,29.08],
        '衢州市': [118.87,28.93],
        '舟山市': [122.2,30],
        '台州市': [121.43,28.68],
        '丽水市': [119.92,28.45],
        '重庆市': [106.55,29.57],

    };
    var planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z';
    var orderUnitNumMax = 10;
    var orderUnitNumMin = 3;
    var depotNumMax = 4;
    var depotNumMin = 1;
    var timeFrist = 7000;
    var timeLast = 8000;
    var clearTime = 6620;
    var jnX = geoCoordMap.济南市[0];
    var jnY = geoCoordMap.济南市[1];
    var cqX = geoCoordMap.重庆市[0];
    var cqY = geoCoordMap.重庆市[1];
    var njX = geoCoordMap.南京市[0];
    var njY = geoCoordMap.南京市[1];
    var gzX = geoCoordMap.广州市[0];
    var gzY = geoCoordMap.广州市[1];
    function rollList() {
        // 获取仓储中心数组
        var depotData = getDepotData();
        var orderNum = Math.floor(Math.random() * (orderUnitNumMax - orderUnitNumMin) + orderUnitNumMin);
        var key = "user|" + orderNum;
        var options = {};
        options[key] = [{
            'city': '@cityx', // 城市名
            'name': '@cfirst()**', // 姓名
            'order': '@natural(10, 40)**@natural(100, 500)', // 订单号
            'number': '@natural(10, 40)***@natural(100, 500)' // 物流单号
        }];
        var data = Mock.mock(options);
        for (var z = 0; z < data.user.length; z++) {
            var str = '<li>\n' +
                '                    <div><span class="name">' + data.user[z].city + '</span><span>' + data.user[z].name + '</span><span>' + data.user[z].order + '</span><span>' + data.user[z].number + '</span></div>\n' +
                '                    <div class="clear"></div>\n' +
                '                </li>';

            var roll = $('.roll_list');
            roll.append(str);
            var cityName = data.user[z].city;
            // js 变量获取json值
            var cityX = geoCoordMap[cityName][0];
            var cityY = geoCoordMap[cityName][1];
            if (cityX > cqX) {
                if (cityY > jnY) {
                    JNData.push([{name: '济南市'}, {name: data.user[z].city}]);
                }
                if (cityY < jnY && cityY > cqY) {
                    JNData.push([{name: '南京市'}, {name: data.user[z].city}]);
                }
                if (cityY < cqY) {
                    JNData.push([{name: '广州市'}, {name: data.user[z].city}]);
                }
            } else {
                JNData.push([{name: '重庆市'}, {name: data.user[z].city}]);
            }
        }
        refreshData(JNData);
        setTimeout(clearLines, clearTime + 380);
        // if (i = 1) {
        //     setTimeout(clearLines, clearTime + 300);
        // }
        // if (i = 2) {
        //     setTimeout(clearLines, clearTime + 600);
        // }
        // if (i = 3) {
        //     setTimeout(clearLines, clearTime + 900);
        // }
        // if (i = 4) {
        //     setTimeout(clearLines, clearTime + 1200);
        // }
    }
    // 向上滚动
    function autoscroll(obj) {
        //这里的25px是#scrollDiv的高度
        $(obj).find("ul:first").animate({marginTop: "-33px"}, 100, function () {
            $(this).css("marginTop", "0px").find("li:first").appendTo(this)
        })
        /*$(this).css("marginTop","0px")这里也许会有人搞不明白，为什么又设为0。因为在ul向上移25px的时候，其第一个li会添加到ul的末尾，如果ul的marginTop不设为0的话，整个ul就会慢慢移出它的父盒子，最后使得它的父盒子变空，实现不了原本想要实现的效果。*/
    }

    // 随机返回几个仓库
    function getDepotData() {
        // 随机获取某几个货仓 []
        var cityData = ['济南市', '重庆市', '南京市', '广州市'];
        var depotNum = Math.floor(Math.random() * (depotNumMax - depotNumMin) + depotNumMin);
        var endData = getRandomArrayElements(cityData, depotNum);
        return endData;
    }

    // 获取两个坐标点的距离
    // function getDistance(lat1,  lng1,  lat2,  lng2){
    //     var radLat1 = lat1*Math.PI / 180.0;
    //     var radLat2 = lat2*Math.PI / 180.0;
    //     var a = radLat1 - radLat2;
    //     var  b = lng1*Math.PI / 180.0 - lng2*Math.PI / 180.0;
    //     var s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2) +
    //         Math.cos(radLat1)*Math.cos(radLat2)*Math.pow(Math.sin(b/2),2)));
    //     s = s *6378.137 ;// EARTH_RADIUS;
    //     s = Math.round(s * 10000) / 10000;
    //     return s;
    // }
    // getDistance(117.25,31.83,118.38,31.33);

    // 随机获取数组中的元素
    function getRandomArrayElements(arr, count) {
        var shuffled = arr.slice(0), i = arr.length, min = i - count, temp, index;
        while (i-- > min) {
            index = Math.floor((i + 1) * Math.random());
            temp = shuffled[index];
            shuffled[index] = shuffled[i];
            shuffled[i] = temp;
        }
        return shuffled.slice(min);
    }



    var convertData = function (data) {
        var res = [];
        for (var i = 0; i < data.length; i++) {
            var dataItem = data[i];
            var fromCoord = geoCoordMap[dataItem[0].name];
            var toCoord = geoCoordMap[dataItem[1].name];
            if (fromCoord && toCoord) {
                res.push([{
                    coord: fromCoord
                }, {
                    coord: toCoord
                }]);
            }
        }
        return res;
    };

    var color = ['#fa7c2a', '#ffffff', '#46bee9'];
    var series = [];

    var refreshData = function (node) {
        //更新数据
        var option = myChart.getOption();
        option.series = [
            // 线
            {
                // name: item[0] + ' Top10',
                type: 'lines',
                zlevel: 1,
                effect: {
                    show: true,
                    period: 6,
                    trailLength: 0.7,
                    color: '#fb7c29',
                    symbolSize: 3,
                    loop: false,
                },
                lineStyle: {
                    normal: {
                        color: '#fb7c29',
                        width: 0,
                        curveness: 0.2,
                        opacity: 0
                    }
                },
                data: convertData(node)
            },
            // 飞机
            {
                // name: item[0] + ' Top10',
                type: 'lines',
                zlevel: 2,
                effect: {
                    show: true,
                    period: 6,
                    trailLength: 0,
                    symbol: planePath,
                    symbolSize: 15,
                    loop: false,
                },
                lineStyle: {
                    normal: {
                        color: '#fb7c29',
                        width: 1,
                        opacity: 0, // 线的透明度
                        curveness: 0.2
                    }
                },
                data: convertData(node),
            },
            // 飞线动画 控制点
            {
                // name: item[0] + ' Top10',
                type: 'effectScatter',
                coordinateSystem: 'geo',
                zlevel: 2,
                rippleEffect: {
                    brushType: 'stroke',
                    loop: false
                },
                label: {
                    normal: {
                        show: false,
                        position: 'right',
                        // formatter: '{b}'
                    }
                },
                // 点大小
                symbolSize: function (val) {
                    return 4;
                },
                itemStyle: {
                    normal: {
                        color: '#fb7c29'
                    }
                },
                data: node.map(function (dataItem) {
                    return {
                        name: dataItem.name,
                        value: geoCoordMap[dataItem[1].name].concat([dataItem[1].value])
                    };
                })
            }];
        myChart.setOption(option);
    };

    option = {
        title: {
            // text: '测试',
            x: 'center',
            textStyle: {
                color: '#fff'
            }
        },
        tooltip: {
            trigger: 'none'
        },
        // legend: {
        //     orient: 'vertical',
        //     top: 'bottom',
        //     left: 'left',
        //     data: ['济南 Top10', '重庆 Top10', '南京 Top10', '广州 Top10'],
        //     textStyle: {
        //         color: '#fff'
        //     },
        //     selectedMode: 'single'
        // },
        geo: {
            map: 'china',
            left: 319,
            top: 26,
            width: 1385,
            height: 1020,
            label: {
                emphasis: {
                    show: false
                }
            },
            silent: true,
            itemStyle: {
                emphasis: {
                    areaColor: '#2a333d',
                    borderWidth: 0
                },
                opacity: 0
            },
            regions: [{
                name: '北京',
                itemStyle: {
                    areaColor: '#06487a',
                    borderWidth: 0
                }
            }, {
                name: '山东',
                itemStyle: {
                    areaColor: '#042161',
                    borderWidth: 0
                }
            }, {
                name: '黑龙江',
                itemStyle: {
                    areaColor: '#0c8a9e',
                    borderWidth: 0
                }
            }, {
                name: '内蒙古',
                itemStyle: {
                    areaColor: '#096a8e',
                    borderWidth: 0
                }
            }, {
                name: '吉林',
                itemStyle: {
                    areaColor: '#0b809a',
                    borderWidth: 0
                }
            }, {
                name: '辽宁',
                itemStyle: {
                    areaColor: '#05366b',
                    borderWidth: 0
                }
            }, {
                name: '河北',
                itemStyle: {
                    areaColor: '#042a64',
                    borderWidth: 0
                }
            }, {
                name: '天津',
                itemStyle: {
                    areaColor: '#0a7897',
                    borderWidth: 0
                }
            }, {
                name: '陕西',
                itemStyle: {
                    areaColor: '#064075',
                    borderWidth: 0
                }
            }, {
                name: '山西',
                itemStyle: {
                    areaColor: '#08658c',
                    borderWidth: 0
                }
            }, {
                name: '宁夏',
                itemStyle: {
                    areaColor: '#0c8fa8',
                    borderWidth: 0
                }
            }, {
                name: '新疆',
                itemStyle: {
                    areaColor: '#0c8da4',
                    borderWidth: 0
                }
            }, {
                name: '青海',
                itemStyle: {
                    areaColor: '#0c96ae',
                    borderWidth: 0
                }
            }, {
                name: '甘肃',
                itemStyle: {
                    areaColor: '#0b82a1',
                    borderWidth: 0
                }
            }, {
                name: '河南',
                itemStyle: {
                    areaColor: '#031f5f',
                    borderWidth: 0
                }
            }, {
                name: '湖北',
                itemStyle: {
                    areaColor: '#096a8f',
                    borderWidth: 0
                }
            }, {
                name: '湖南',
                itemStyle: {
                    areaColor: '#085f85',
                    borderWidth: 0
                }
            }, {
                name: '四川',
                itemStyle: {
                    areaColor: '#06527f',
                    borderWidth: 0
                }
            }, {
                name: '广东',
                itemStyle: {
                    areaColor: '#06527f',
                    borderWidth: 0
                }
            }, {
                name: '海南',
                itemStyle: {
                    areaColor: '#0b7d96',
                    borderWidth: 0
                }
            }, {
                name: '台湾',
                itemStyle: {
                    areaColor: '#0a7d9a',
                    borderWidth: 0
                }
            }, {
                name: '福建',
                itemStyle: {
                    areaColor: '#03205c',
                    borderWidth: 0
                }
            }, {
                name: '上海',
                itemStyle: {
                    areaColor: '#0a7997',
                    borderWidth: 0
                }
            }, {
                name: '西藏',
                itemStyle: {
                    areaColor: '#0c91a6',
                    borderWidth: 0
                }
            }, {
                name: '香港',
                itemStyle: {
                    areaColor: '#031c58',
                    borderWidth: 0
                }
            }, {
                name: '江苏',
                itemStyle: {
                    areaColor: '#061e5d',
                    borderWidth: 0
                }
            }, {
                name: '安徽',
                itemStyle: {
                    areaColor: '#053b70',
                    borderWidth: 0
                }
            }, {
                name: '浙江',
                itemStyle: {
                    areaColor: '#074977',
                    borderWidth: 0
                }
            }, {
                name: '江西',
                itemStyle: {
                    areaColor: '#096c8d',
                    borderWidth: 0
                }
            }, {
                name: '重庆',
                itemStyle: {
                    areaColor: '#096d90',
                    borderWidth: 0
                }
            }, {
                name: '贵州',
                itemStyle: {
                    areaColor: '#0b7997',
                    borderWidth: 0
                }
            }, {
                name: '广西',
                itemStyle: {
                    areaColor: '#074875',
                    borderWidth: 0
                }
            }, {
                name: '云南',
                itemStyle: {
                    areaColor: '#096b8c',
                    borderWidth: 0
                }
            }]
        },
        // series: series
    };
    if (option && typeof option === "object") {
        myChart.setOption(option);
    }

    var clearLines = function () {
        var option = myChart.getOption();
        option.series = [];
        myChart.setOption(option);
        JNData = [];
        // myChart.clear();
    };
    // var clearLinesTow = function () {
    //     option = myChart.getOption();
    //     option.series = [];
    //     myChart.setOption(option)
    // };
    function setRandomTime() {
        var randomTime = Math.floor(Math.random() * (timeLast - timeFrist) + timeFrist);
        return randomTime;
    }

    function start() {
        var time = setRandomTime();

        time1 = setInterval(function () {
            // setTimeout(timeFun())
            rollList();
            clearInterval(time1);
            start();
        }, time);
        // var clearTime = time + 5600;
        // setInterval(function () {
        //     myChart.clear()
        // }, clearTime);
        //
        // setInterval(function () {
        //     myChart.setOption(option)
        // }, clearTime + 1);
    }

    start();
    setInterval(function () {
        var rollY = $('.roll-content').offset().top + 199;
        if ($('.roll_list').has('li').length > 0) {
            var endRollY = $('.roll-content .roll_list li:last-child').offset().top + 33;
            if (endRollY > rollY) {
                autoscroll('#news-container');
            }
        }
    },1000);

    var y = $('.roll-content').offset().top + 199;
    // var sixY = $('.roll-content .roll_list li').eq(6).offset().top + 33;
    // var endRollY = $('.roll-content .roll_list li:last-child').offset().top + 33;

</script>

<script language="javascript" type="text/javascript">

    function IsWin7_64() {
        if (navigator.userAgent.indexOf("MSIE") > 0 &&
            navigator.userAgent.indexOf("Windows NT 6.1") > 0 &&
            navigator.userAgent.indexOf("x64") > 0
        ) {
            return true;
        }
    }
    if (IsWin7_64()) {

        alert("请使用32位浏览器!");

    }

    function getOs() {
        //判断ie
        if (!!window.ActiveXObject || "ActiveXObject" in window) {
            return "MSIE";
        }

        /* //判断ie6-ie10
        if (navigator.userAgent.indexOf("MSIE") > 0) {
        return "MSIE";
        }*/
        if (isFirefox = navigator.userAgent.indexOf("Firefox") > 0) {
            return "Firefox";
        }
        if (isSafari = navigator.userAgent.indexOf("Chrome") > 0) {
            return "Chrome";
        }
        if (isCamino = navigator.userAgent.indexOf("Safari") > 0) {
            return "Safari";
        }
        return "Chrome";
    }

    var obj = getOs();

    setTimeout("InitPlugin();", 200);

    function InitPlugin() {
        try {
            if (obj == "Chrome") {
                JSSetChromeExplorer();
            }
            JSDivideWindow(1);
        }
        catch (e) {
            setTimeout("InitPlugin();", 200);
        }
    }

    if (obj == "MSIE") {
        document.getElementById("plugConter").innerHTML = "<object id=\"MS_Activex\" classid=\"clsid:12168BC5-28EF-4898-883B-22EC3B5FD53E\"  > </object>";
    }
    else if (obj == "Firefox") {
        document.getElementById("plugConter").innerHTML = "<object id=\"MS_Activex\" type=\"application/webcc-plugin\" > </object>";
    }
    else if (obj == "Chrome") {
        document.getElementById("plugConter").innerHTML = "<object id=\"MS_Activex\" type=\"application/webcc-plugin\"  ></object>";

    }

    if (obj == "MSIE") {
        MS_Activex.attachEvent("OnChnSelected", OnChnSelected);
        MS_Activex.attachEvent("OnChnStateChanged", OnChnStateChanged);
        MS_Activex.attachEvent("OnConnectChanged", OnConnectChanged);
    }

    function OnChnStateChanged(ip, nSrv, state) {
        //        alert("OnChnStateChanged:" + ip + "服务通道:" + nSrv + "状态:" + state);
    }

    function OnChnSelected(ip, nSrv, nLocalIndex, state) {
        //        alert("OnChnSelected:" + ip + "窗口:" + nLocalIndex + "服务通道:" + nSrv + "状态:" + state);
    }

    /*连接返回状态*/
    var ConnectState =
        {
            CS_NOCONN: 0, 	//没有连接
            CS_CONNECTING: 1, 	//连接中
            CS_CONNOK: 2, 	//连接成功
            CONNERR: 3, 	//连接失败
            DISOK: 4, 	//断开连接成功
            CS_DISCON: 5, 	//连接异常断开
            CS_SSTOP: 6, 	//服务停止
            CS_OTHER: 7
        }

    function OnConnectChanged(ip, nSrv, state) {
        //alert("Connect:" + ip + "通道" + nSrv + "的连接状态为" + state);
    }

    function JSConnect() {//连接
        var yst = 'T362522450';
        var chnno= 1;
        var account = 'abc';
        var pwd = 123;
        //alert("yst:" + ip +" chnno:"+chnno+ " account:" + account + " pwd:" + pwd);
        MS_Activex.JSConnect(yst, account, pwd, 9101, chnno, 0,false);
    }

    function JSDisconnect() {//断开
        var yst = txt_YST.value;
        var chnno= txt_chno.value;
        MS_Activex.JSDisconnect(yst, chnno);
    }


    window.onload = function () {
        JSConnect();
    }
</script>

</body>
</html>