<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>第二屏</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="echarts/main.min.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/data.js"></script>
</head>

<body style="width: 100%;height: 100%; margin: 0">
<video class="video_player" autoplay loop muted>
    <source src="video/video3.mp4" type="video/mp4" >
</video>
<div id="container" style="height: 100%"></div>
<div class="font-left">新支点集团<br />经营大数据</div>
<div class="num">
    <div class="num_title">旗下品牌今日总销售额：</div>
    <div class="num_num">
        <span>0</span>
        <span>8</span>
        <span>8</span>
        <span>8</span>
        <span>8</span>
        <span>8</span>
        <span>8</span>

        <div class="num_font">元</div>

    </div>
</div>
<div class="pro">
    <div class="pro_title">
        <ul>
            <li style="width: 81px;">排序</li>
            <li class="li_center">店铺名称</li>
            <li style="width: 125px;">日销售额</li>
        </ul>
    </div>
    <div class="pro_list">
        <ul>
            <li style="width: 81px;"><span style="background: #ff5722;">1</span></li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;"><span style="background: #ff9800;">2</span></li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;"><span style="background: #ffc107;">3</span></li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;"><span>4</span></li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">5</li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">6</li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">7</li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">8</li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">9</li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">10</li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
    </div>
</div>
<div class="hot">
    <div class="hot_title">
        <ul>
            <li style="width: 81px;">排序</li>
            <li class="li_center">商品名称</li>
            <li style="width: 125px;">日销售额</li>
        </ul>
    </div>
    <div class="hot_list">
        <ul>
            <li style="width: 81px;"><span style="background: #ff5722;">1</span></li>
            <li class="li_center">壹点壹香香鸡</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;"><span style="background: #ff9800;">2</span></li>
            <li class="li_center">台式卤肉饭</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;"><span style="background: #ffc107;">3</span></li>
            <li class="li_center">黄金酸辣米线</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">4</li>
            <li class="li_center">小龙虾生煎包</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">5</li>
            <li class="li_center">麻辣鲜香烤鱼</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">6</li>
            <li class="li_center">咖喱香香鸡饭</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">7</li>
            <li class="li_center">西柚柠檬鲜饮</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">8</li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">9</li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
        <ul>
            <li style="width: 81px;">10</li>
            <li class="li_center">鱼火火(王**店）</li>
            <li style="width: 125px;">¥23258</li>
        </ul>
    </div>
</div>
<script type="text/javascript" src="echarts/echarts.min.js"></script>
<script type="text/javascript" src="echarts/china2.js"></script>

<script type="text/javascript">
    var dom = document.getElementById("container");
    var myChart = echarts.init(dom);
    var app = {};
    option = null;
    var map = L.map('container');
    var overlay = new L.echartsLayer3(map, echarts);
    var chartsContainer = overlay.getEchartsContainer();
    var shopDatas = [
        {name: '锅先森（57号店）', value: 12},
        {name: '柠檬工坊（108号店）', value: 1},
        {name: '鱼火火（97号店）', value: 4},
        {name: '张一碗（76号店）', value: 1},
        {name: '贝克汉堡（64号店）', value: 15},
        {name: '山村米姑娘（128号店）', value: 5},
        {name: '蒸美味（141号店）', value: 5},
        {name: '乔东家排骨大包（131号店）', value: 6},
        {name: '瓦罐香沸（88号店）', value: 6},
        {name: '壹点壹（80号店）', value: 19},
        {name: '姥娘包子（83号店）', value: 11},
        {name: '张一碗（87号店）', value: 13},
        {name: '贝克汉堡（118号店）', value: 7},
        {name: '鱼火火（91号店）', value: 7},
        {name: '瓦罐香沸（66号店）', value: 2},
        {name: '柠檬工坊（60号店）', value: 7},
        {name: '锅先森（158号店）', value: 3},
        {name: '张一碗（149号店）', value: 15},
        {name: '壹点壹（181号店）', value: 14},
        {name: '瓦罐香沸（67号店）', value: 11},
        {name: '贝克汉堡（92号店）', value: 3},
        {name: '蒸美味（89号店）', value: 18},
        {name: '鱼火火（41号店）', value: 5},
        {name: '壹点壹（55号店）', value: 11},
        {name: '贝克汉堡（44号店）', value: 9},
        {name: '乔东家排骨大包（98号店）', value: 2},
        {name: '张一碗（86号店）', value: 8},
        {name: '姥娘包子（133号店）', value: 1},
        {name: '山村米姑娘（101号店）', value: 16},
        {name: '锅先森（72号店）', value: 15},
        {name: '瓦罐香沸（46号店）', value: 2},
        {name: '鱼火火（70号店）', value: 19},
    ];
    var goodDatas = [
        {name: '台式卤肉饭', value: 403541},
        {name: '香辣排骨', value: 302782},
        {name: '香菇滑鸡', value: 293532},
        {name: '柠檬水', value: 285677},
        {name: '冻柠茶', value: 273658},
        {name: '原味奶茶', value: 278413},
        {name: '麻辣烤鱼', value: 245798},
        {name: '藤椒烤鱼', value: 236874},
        {name: '番茄烤鱼', value: 233678},
        {name: '金汤过桥米线', value: 213630},
        {name: '麻辣过桥米线', value: 213565},
        {name: '酸菜过桥米线', value: 217890},
        {name: '咖喱脆骨炒饭', value: 215728},
        {name: '扬州炒饭', value: 207845},
        {name: '菠萝腰果炒饭', value: 208868},
        {name: '黑椒蒸排骨', value: 207431},
        {name: '咖喱蒸鸡', value: 195784},
        {name: '豉汁排骨', value: 197388},
        {name: '奥尔良鸡腿堡', value: 196383},
        {name: '香辣鸡腿堡', value: 187938},
        {name: '原味鸡腿堡', value: 187573},
        {name: '招牌排骨大包', value: 175382},
        {name: '白菜排骨大包', value: 174726},
        {name: '豆角排骨大包', value: 163866},
        {name: '瓦罐红烧肉', value: 153882},
        {name: '瓦罐排骨玉米汤', value: 136371},
        {name: '瓦罐黄豆猪手', value: 107682},
        {name: '原味鸡腿堡', value: 98632},
        {name: '香辣鸡腿堡', value: 98798},
        {name: '爆浆鸡排', value: 92682},
        {name: '全家福大包', value: 97538},
        {name: '招牌酱肉包', value: 97642},
        {name: '韭菜肉丁包', value: 93734},
    ];

    // 随机给获取到的元素value加上随机数

    var data = datas();
    var geoCoordMap = geoCoordMap();

    var convertData = function (data) {
        var res = [];
        for (var i = 0; i < data.length; i++) {
            var geoCoord = geoCoordMap[data[i].name];
            if (geoCoord) {
                res.push({
                    // name: data[i].name, // 文字
                    value: geoCoord.concat(data[i].value)
                });
            }
        }
        return res;
    };

    option = {
        title: {
            // text: '测试',
            x:'center',
            textStyle: {
                color: '#fff'
            }
        },
        tooltip : {
            trigger: 'item'
        },
        geo: {
            map: 'china2',
            left: 319,
            top: 26,
            width: 1385,
            height: 1020,
            label: {
                emphasis: {
                    show: false
                }
            },
            itemStyle: {
                emphasis: {
                    areaColor: '#2a333d',
                    borderWidth: 0
                },
                opacity: 0.8
            },
            regions: [{
                name: '北京',
                itemStyle: {
                    areaColor: '#06487a',
                    borderWidth: 0
                }
            },{
                name: '山东',
                itemStyle: {
                    areaColor: '#042161',
                    borderWidth: 0
                }
            },{
                name: '黑龙江',
                itemStyle: {
                    areaColor: '#0c8a9e',
                    borderWidth: 0
                }
            },{
                name: '内蒙古',
                itemStyle: {
                    areaColor: '#096a8e',
                    borderWidth: 0
                }
            },{
                name: '吉林',
                itemStyle: {
                    areaColor: '#0b809a',
                    borderWidth: 0
                }
            },{
                name: '辽宁',
                itemStyle: {
                    areaColor: '#05366b',
                    borderWidth: 0
                }
            },{
                name: '河北',
                itemStyle: {
                    areaColor: '#042a64',
                    borderWidth: 0
                }
            },{
                name: '天津',
                itemStyle: {
                    areaColor: '#0a7897',
                    borderWidth: 0
                }
            },{
                name: '陕西',
                itemStyle: {
                    areaColor: '#064075',
                    borderWidth: 0
                }
            },{
                name: '山西',
                itemStyle: {
                    areaColor: '#08658c',
                    borderWidth: 0
                }
            },{
                name: '宁夏',
                itemStyle: {
                    areaColor: '#0c8fa8',
                    borderWidth: 0
                }
            },{
                name: '新疆',
                itemStyle: {
                    areaColor: '#0c8da4',
                    borderWidth: 0
                }
            },{
                name: '青海',
                itemStyle: {
                    areaColor: '#0c96ae',
                    borderWidth: 0
                }
            },{
                name: '甘肃',
                itemStyle: {
                    areaColor: '#0b82a1',
                    borderWidth: 0
                }
            },{
                name: '河南',
                itemStyle: {
                    areaColor: '#031f5f',
                    borderWidth: 0
                }
            },{
                name: '湖北',
                itemStyle: {
                    areaColor: '#096a8f',
                    borderWidth: 0
                }
            },{
                name: '湖南',
                itemStyle: {
                    areaColor: '#085f85',
                    borderWidth: 0
                }
            },{
                name: '四川',
                itemStyle: {
                    areaColor: '#06527f',
                    borderWidth: 0
                }
            },{
                name: '广东',
                itemStyle: {
                    areaColor: '#06527f',
                    borderWidth: 0
                }
            },{
                name: '海南',
                itemStyle: {
                    areaColor: '#0b7d96',
                    borderWidth: 0
                }
            },{
                name: '台湾',
                itemStyle: {
                    areaColor: '#0a7d9a',
                    borderWidth: 0
                }
            },{
                name: '福建',
                itemStyle: {
                    areaColor: '#03205c',
                    borderWidth: 0
                }
            },{
                name: '上海',
                itemStyle: {
                    areaColor: '#0a7997',
                    borderWidth: 0
                }
            },{
                name: '西藏',
                itemStyle: {
                    areaColor: '#0c91a6',
                    borderWidth: 0
                }
            },{
                name: '香港',
                itemStyle: {
                    areaColor: '#031c58',
                    borderWidth: 0
                }
            },{
                name: '江苏',
                itemStyle: {
                    areaColor: '#061e5d',
                    borderWidth: 0
                }
            },{
                name: '安徽',
                itemStyle: {
                    areaColor: '#053b70',
                    borderWidth: 0
                }
            },{
                name: '浙江',
                itemStyle: {
                    areaColor: '#074977',
                    borderWidth: 0
                }
            },{
                name: '江西',
                itemStyle: {
                    areaColor: '#096c8d',
                    borderWidth: 0
                }
            },{
                name: '重庆',
                itemStyle: {
                    areaColor: '#096d90',
                    borderWidth: 0
                }
            },{
                name: '贵州',
                itemStyle: {
                    areaColor: '#0b7997',
                    borderWidth: 0
                }
            },{
                name: '广西',
                itemStyle: {
                    areaColor: '#074875',
                    borderWidth: 0
                }
            },{
                name: '云南',
                itemStyle: {
                    areaColor: '#096b8c',
                    borderWidth: 0
                }
            }]
        },
        series : [
            {
                name: 'pm2.5',
                type: 'scatter',
                coordinateSystem: 'geo',
                data: convertData(data),
                symbolSize: function (val) {
                    return val[2] / 10;
                },
                label: {
                    normal: {
                        formatter: '{b}',
                        position: 'right',
                        show: false
                    },
                    emphasis: {
                        show: true
                    }
                },
                itemStyle: {
                    normal: {
                        color: '#13e3e7'
                    }
                }
            },
            {
                name: 'Top 5',
                type: 'effectScatter',
                coordinateSystem: 'geo',
                // 外圈+文字
                data: convertData(data.sort(function (a, b) {
                    return b.value - a.value;
                }).slice(0, 6)),
                symbolSize: function (val) {
                    return val[2] / 10;
                },
                showEffectOn: 'render',
                rippleEffect: {
                    brushType: 'fill'
                },
                hoverAnimation: true,
                label: {
                    normal: {
                        formatter: '{b}',
                        position: 'right',
                        show: true
                    }
                },
                itemStyle: {
                    normal: {
                        color: '#13e3e7',
                        shadowBlur: 10,
                        shadowColor: '#333'
                    }
                },
                zlevel: 1
            }
        ]
    };
    if (option && typeof option === "object") {
        myChart.setOption(option, true);
    }


</script>
</body>
</html>